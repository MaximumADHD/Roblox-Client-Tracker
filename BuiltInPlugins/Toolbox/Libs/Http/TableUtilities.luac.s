PROTO_0:
  JUMPIFNOT R0 [+1]
  JUMPIF R1 [+2]
  LOADB R3 0
  RETURN R3 1
  JUMPIFNOTEQ R0 R1 [+3]
  LOADB R3 1
  RETURN R3 1
  JUMPIF R2 [+1]
  GETUPVAL R2 0
  GETIMPORT R3 K1 [pairs]
  MOVE R4 R0
  CALL R3 1 3
  FORGPREP_NEXT R3
  GETTABLE R8 R1 R6
  JUMPIFEQ R8 R7 [+5]
  GETTABLE R8 R2 R6
  JUMPIF R8 [+2]
  LOADB R8 0
  RETURN R8 1
  FORGLOOP R3 2 [-8]
  GETIMPORT R3 K1 [pairs]
  MOVE R4 R1
  CALL R3 1 3
  FORGPREP_NEXT R3
  GETTABLE R8 R0 R6
  JUMPIFEQ R8 R7 [+5]
  GETTABLE R8 R2 R6
  JUMPIF R8 [+2]
  LOADB R8 0
  RETURN R8 1
  FORGLOOP R3 2 [-8]
  LOADB R3 1
  RETURN R3 1

PROTO_1:
  JUMPIFNOT R0 [+14]
  JUMPIFNOT R1 [+13]
  JUMPIFNOT R2 [+12]
  JUMPIFEQKS R2 K0 [""] [+11]
  GETTABLE R3 R0 R2
  JUMPIFNOT R3 [+8]
  GETTABLE R3 R1 R2
  JUMPIFNOT R3 [+6]
  GETTABLE R3 R0 R2
  GETTABLE R4 R1 R2
  JUMPIFNOTEQ R3 R4 [+3]
  LOADB R3 1
  RETURN R3 1
  LOADB R3 0
  RETURN R3 1

PROTO_2:
  NEWTABLE R2 0 0
  GETIMPORT R3 K1 [pairs]
  MOVE R4 R0
  CALL R3 1 3
  FORGPREP_NEXT R3
  GETTABLE R8 R1 R6
  GETTABLE R9 R0 R6
  JUMPIFEQ R8 R9 [+2]
  SETTABLE R7 R2 R6
  FORGLOOP R3 2 [-6]
  RETURN R2 1

PROTO_3:
  NEWTABLE R1 0 0
  LOADN R4 1
  LENGTH R2 R0
  LOADN R3 1
  FORNPREP R2
  GETTABLE R5 R0 R4
  LOADB R6 1
  SETTABLE R6 R1 R5
  FORNLOOP R2
  RETURN R1 1

PROTO_4:
  NEWTABLE R1 0 0
  GETIMPORT R2 K1 [pairs]
  MOVE R3 R0
  CALL R2 1 3
  FORGPREP_NEXT R2
  FASTCALL2 TABLE_INSERT R1 R5 [+5]
  MOVE R8 R1
  MOVE R9 R5
  GETIMPORT R7 K4 [table.insert]
  CALL R7 2 0
  FORGLOOP R2 2 [-8]
  RETURN R1 1

PROTO_5:
  GETUPVAL R4 0
  GETTABLEKS R3 R4 K0 ["TableDifference"]
  NEWTABLE R5 0 0
  LOADN R8 1
  LENGTH R6 R0
  LOADN R7 1
  FORNPREP R6
  GETTABLE R9 R0 R8
  LOADB R10 1
  SETTABLE R10 R5 R9
  FORNLOOP R6
  MOVE R4 R5
  NEWTABLE R6 0 0
  LOADN R9 1
  LENGTH R7 R1
  LOADN R8 1
  FORNPREP R7
  GETTABLE R10 R1 R9
  LOADB R11 1
  SETTABLE R11 R6 R10
  FORNLOOP R7
  MOVE R5 R6
  CALL R3 2 1
  NEWTABLE R4 0 0
  GETIMPORT R5 K2 [pairs]
  MOVE R6 R3
  CALL R5 1 3
  FORGPREP_NEXT R5
  FASTCALL2 TABLE_INSERT R4 R8 [+5]
  MOVE R11 R4
  MOVE R12 R8
  GETIMPORT R10 K5 [table.insert]
  CALL R10 2 0
  FORGLOOP R5 2 [-8]
  MOVE R2 R4
  RETURN R2 1

PROTO_6:
  LOADB R1 0
  LOADB R2 0
  LOADB R3 1
  LOADN R4 1
  GETIMPORT R5 K1 [pairs]
  MOVE R6 R0
  CALL R5 1 3
  FORGPREP_NEXT R5
  FASTCALL1 TYPE R8 [+3]
  MOVE R11 R8
  GETIMPORT R10 K3 [type]
  CALL R10 1 1
  JUMPIFNOTEQKS R10 K4 ["string"] [+3]
  LOADB R2 1
  JUMP [+14]
  FASTCALL1 TYPE R8 [+3]
  MOVE R11 R8
  GETIMPORT R10 K3 [type]
  CALL R10 1 1
  JUMPIFNOTEQKS R10 K5 ["number"] [+6]
  JUMPIFEQ R4 R8 [+2]
  LOADB R3 0
  LOADB R1 1
  JUMP [+2]
  LOADB R10 0
  RETURN R10 1
  JUMPIFNOT R2 [+3]
  JUMPIFNOT R1 [+2]
  LOADB R10 0
  RETURN R10 1
  ADDK R4 R4 K6 [1]
  FORGLOOP R5 2 [-29]
  JUMPIFNOT R1 [+1]
  RETURN R3 1
  LOADB R5 1
  RETURN R5 1

PROTO_7:
  ORK R1 R1 K0 [""]
  FASTCALL1 TYPE R0 [+3]
  MOVE R3 R0
  GETIMPORT R2 K2 [type]
  CALL R2 1 1
  JUMPIFNOTEQKS R2 K3 ["table"] [+75]
  LOADK R2 K0 [""]
  GETUPVAL R4 0
  GETTABLEKS R3 R4 K4 ["CheckListConsistency"]
  MOVE R4 R0
  CALL R3 1 1
  JUMPIF R3 [+3]
  MOVE R3 R2
  LOADK R4 K5 ["-- WARNING: this table fails the list consistency test
"]
  CONCAT R2 R3 R4
  MOVE R3 R2
  LOADK R4 K6 ["{
"]
  CONCAT R2 R3 R4
  GETIMPORT R3 K8 [pairs]
  MOVE R4 R0
  CALL R3 1 3
  FORGPREP_NEXT R3
  FASTCALL1 TYPE R6 [+3]
  MOVE R9 R6
  GETIMPORT R8 K2 [type]
  CALL R8 1 1
  JUMPIFNOTEQKS R8 K9 ["string"] [+22]
  MOVE R8 R2
  LOADK R9 K10 ["  "]
  MOVE R10 R1
  FASTCALL1 TOSTRING R6 [+3]
  MOVE R16 R6
  GETIMPORT R15 K12 [tostring]
  CALL R15 1 1
  MOVE R11 R15
  LOADK R12 K13 [" = "]
  GETUPVAL R16 0
  GETTABLEKS R15 R16 K14 ["RecursiveToString"]
  MOVE R16 R7
  LOADK R18 K10 ["  "]
  MOVE R19 R1
  CONCAT R17 R18 R19
  CALL R15 2 1
  MOVE R13 R15
  LOADK R14 K15 [";
"]
  CONCAT R2 R8 R14
  FASTCALL1 TYPE R6 [+3]
  MOVE R9 R6
  GETIMPORT R8 K2 [type]
  CALL R8 1 1
  JUMPIFNOTEQKS R8 K16 ["number"] [+15]
  MOVE R8 R2
  LOADK R9 K10 ["  "]
  MOVE R10 R1
  GETUPVAL R14 0
  GETTABLEKS R13 R14 K14 ["RecursiveToString"]
  MOVE R14 R7
  LOADK R16 K10 ["  "]
  MOVE R17 R1
  CONCAT R15 R16 R17
  CALL R13 2 1
  MOVE R11 R13
  LOADK R12 K17 [",
"]
  CONCAT R2 R8 R12
  FORGLOOP R3 2 [-50]
  MOVE R3 R2
  MOVE R4 R1
  LOADK R5 K18 ["}"]
  CONCAT R2 R3 R5
  RETURN R2 1
  FASTCALL1 TOSTRING R0 [+3]
  MOVE R3 R0
  GETIMPORT R2 K12 [tostring]
  CALL R2 1 1
  RETURN R2 1

MAIN:
  PREPVARARGS 0
  NEWTABLE R0 8 0
  NEWTABLE R1 0 0
  DUPCLOSURE R2 K0 [PROTO_0]
  CAPTURE VAL R1
  SETTABLEKS R2 R0 K1 ["ShallowEqual"]
  DUPCLOSURE R2 K2 [PROTO_1]
  SETTABLEKS R2 R0 K3 ["EqualKey"]
  DUPCLOSURE R2 K4 [PROTO_2]
  SETTABLEKS R2 R0 K5 ["TableDifference"]
  DUPCLOSURE R2 K6 [PROTO_3]
  DUPCLOSURE R3 K7 [PROTO_4]
  DUPCLOSURE R4 K8 [PROTO_5]
  CAPTURE VAL R0
  SETTABLEKS R4 R0 K9 ["ListDifference"]
  DUPCLOSURE R4 K10 [PROTO_6]
  SETTABLEKS R4 R0 K11 ["CheckListConsistency"]
  DUPCLOSURE R4 K12 [PROTO_7]
  CAPTURE VAL R0
  SETTABLEKS R4 R0 K13 ["RecursiveToString"]
  RETURN R0 1
