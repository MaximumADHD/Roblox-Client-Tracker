PROTO_0:
  LOADK R3 K0 [""]
  JUMPIFNOT R2 [+37]
  FASTCALL1 TYPEOF R2 [+3]
  MOVE R7 R2
  GETIMPORT R6 K2 [typeof]
  CALL R6 1 1
  JUMPIFEQKS R6 K3 ["table"] [+2]
  LOADB R5 0 +1
  LOADB R5 1
  FASTCALL2K ASSERT R5 K4 [+4]
  LOADK R6 K4 ["Args must be a table"]
  GETIMPORT R4 K6 [assert]
  CALL R4 2 0
  MOVE R4 R2
  LOADNIL R5
  LOADNIL R6
  FORGPREP R4
  LOADK R9 K7 ["%*,%*:%*"]
  MOVE R11 R3
  MOVE R12 R7
  MOVE R13 R8
  NAMECALL R9 R9 K8 ["format"]
  CALL R9 4 1
  MOVE R3 R9
  FORGLOOP R4 2 [-9]
  FASTCALL2K STRING_SUB R3 K9 [+5]
  MOVE R5 R3
  LOADK R6 K9 [2]
  GETIMPORT R4 K12 [string.sub]
  CALL R4 2 1
  MOVE R3 R4
  LOADK R5 K13 ["%*:[%*]"]
  MOVE R7 R1
  MOVE R8 R3
  NAMECALL R5 R5 K8 ["format"]
  CALL R5 3 1
  MOVE R4 R5
  RETURN R4 1

PROTO_1:
  DUPTABLE R0 K1 [{"FormatByKey"}]
  DUPCLOSURE R1 K2 [PROTO_0]
  SETTABLEKS R1 R0 K0 ["FormatByKey"]
  RETURN R0 1

MAIN:
  PREPVARARGS 0
  DUPTABLE R0 K1 [{"GetTranslator"}]
  DUPCLOSURE R1 K2 [PROTO_1]
  SETTABLEKS R1 R0 K0 ["GetTranslator"]
  RETURN R0 1
