PROTO_0:
  NEWTABLE R7 0 0
  LENGTH R8 R1
  MUL R11 R0 R3
  GETIMPORT R14 K4 [math.random]
  CALL R14 0 1
  MULK R13 R14 K1 [2]
  SUBK R12 R13 K0 [1]
  MUL R10 R11 R12
  ADD R9 R0 R10
  LOADN R12 1
  MOVE R10 R8
  LOADN R11 1
  FORNPREP R10
  GETTABLE R15 R1 R12
  GETTABLE R14 R15 R2
  GETTABLEN R13 R14 1
  JUMPIFNOTLE R13 R9 [+13]
  GETTABLE R15 R1 R12
  GETTABLE R14 R15 R2
  GETTABLEN R13 R14 2
  JUMPIFNOTLE R9 R13 [+8]
  GETTABLE R15 R1 R12
  FASTCALL2 TABLE_INSERT R7 R15 [+4]
  MOVE R14 R7
  GETIMPORT R13 K7 [table.insert]
  CALL R13 2 0
  FORNLOOP R10
  LENGTH R10 R7
  JUMPIFNOTEQKN R10 K8 [0] [+24]
  JUMPIFNOT R4 [+22]
  GETTABLE R11 R5 R2
  GETTABLEN R10 R11 1
  JUMPIFNOTLT R9 R10 [+7]
  NEWTABLE R10 0 1
  MOVE R11 R5
  SETLIST R10 R11 1 [1]
  RETURN R10 1
  GETTABLE R11 R6 R2
  GETTABLEN R10 R11 2
  JUMPIFNOTLT R10 R9 [+7]
  NEWTABLE R10 0 1
  MOVE R11 R6
  SETLIST R10 R11 1 [1]
  RETURN R10 1
  LOADNIL R10
  RETURN R10 1
  RETURN R7 1

PROTO_1:
  GETTABLEKS R3 R0 K0 ["priority"]
  GETTABLEKS R4 R1 K0 ["priority"]
  JUMPIFLT R3 R4 [+2]
  LOADB R2 0 +1
  LOADB R2 1
  RETURN R2 1

PROTO_2:
  GETTABLEKS R2 R0 K0 ["Unit"]
  GETUPVAL R5 0
  GETTABLEKS R4 R5 K1 ["MaterialUnit"]
  GETTABLEKS R3 R4 K2 ["Percentage"]
  JUMPIFEQ R2 R3 [+2]
  LOADB R1 0 +1
  LOADB R1 1
  GETTABLEKS R2 R0 K3 ["MaterialList"]
  GETTABLEKS R3 R0 K4 ["FillMaterial"]
  GETTABLEKS R4 R0 K5 ["FallbackMaterial"]
  GETIMPORT R5 K8 [table.create]
  LOADK R6 K9 [1050624]
  MOVE R7 R4
  CALL R5 2 1
  GETTABLEKS R6 R0 K10 ["Min"]
  GETTABLEKS R7 R0 K11 ["Max"]
  NEWTABLE R8 0 0
  GETIMPORT R9 K13 [ipairs]
  MOVE R10 R2
  CALL R9 1 3
  FORGPREP_INEXT R9
  NEWTABLE R14 4 0
  JUMPIFNOT R1 [+49]
  LOADB R16 0
  GETTABLEKS R17 R13 K14 ["MinHeight"]
  LOADN R18 1
  JUMPIFNOTLE R17 R18 [+8]
  GETTABLEKS R17 R13 K14 ["MinHeight"]
  LOADN R18 0
  JUMPIFLE R18 R17 [+2]
  LOADB R16 0 +1
  LOADB R16 1
  FASTCALL2K ASSERT R16 K15 [+4]
  LOADK R17 K15 ["invalid minimum height input!"]
  GETIMPORT R15 K17 [assert]
  CALL R15 2 0
  LOADB R16 0
  GETTABLEKS R17 R13 K18 ["MaxHeight"]
  LOADN R18 1
  JUMPIFNOTLE R17 R18 [+8]
  GETTABLEKS R17 R13 K18 ["MaxHeight"]
  LOADN R18 0
  JUMPIFLE R18 R17 [+2]
  LOADB R16 0 +1
  LOADB R16 1
  FASTCALL2K ASSERT R16 K19 [+4]
  LOADK R17 K19 ["invalid maximum height input!"]
  GETIMPORT R15 K17 [assert]
  CALL R15 2 0
  NEWTABLE R15 0 2
  GETTABLEKS R16 R13 K14 ["MinHeight"]
  GETTABLEKS R17 R13 K18 ["MaxHeight"]
  SETLIST R15 R16 2 [1]
  SETTABLEKS R15 R14 K20 ["heightRange"]
  JUMP [+48]
  LOADB R16 0
  GETTABLEKS R17 R13 K14 ["MinHeight"]
  GETTABLEKS R18 R13 K18 ["MaxHeight"]
  JUMPIFNOTLE R17 R18 [+8]
  GETTABLEKS R17 R13 K14 ["MinHeight"]
  LOADN R18 0
  JUMPIFLE R18 R17 [+2]
  LOADB R16 0 +1
  LOADB R16 1
  FASTCALL2K ASSERT R16 K15 [+4]
  LOADK R17 K15 ["invalid minimum height input!"]
  GETIMPORT R15 K17 [assert]
  CALL R15 2 0
  NEWTABLE R15 0 2
  GETTABLEKS R16 R13 K14 ["MinHeight"]
  GETTABLEKS R17 R13 K18 ["MaxHeight"]
  SETLIST R15 R16 2 [1]
  SETTABLEKS R15 R14 K20 ["heightRange"]
  GETTABLEKS R17 R13 K14 ["MinHeight"]
  FASTCALL2 MATH_MIN R6 R17 [+4]
  MOVE R16 R6
  GETIMPORT R15 K23 [math.min]
  CALL R15 2 1
  MOVE R6 R15
  GETTABLEKS R17 R13 K18 ["MaxHeight"]
  FASTCALL2 MATH_MAX R7 R17 [+4]
  MOVE R16 R7
  GETIMPORT R15 K25 [math.max]
  CALL R15 2 1
  MOVE R7 R15
  GETTABLEKS R17 R13 K26 ["MinSlope"]
  GETTABLEKS R18 R13 K27 ["MaxSlope"]
  JUMPIFLE R17 R18 [+2]
  LOADB R16 0 +1
  LOADB R16 1
  FASTCALL2K ASSERT R16 K28 [+4]
  LOADK R17 K28 ["invalid slope input!"]
  GETIMPORT R15 K17 [assert]
  CALL R15 2 0
  LOADB R16 0
  GETTABLEKS R17 R13 K26 ["MinSlope"]
  LOADN R18 90
  JUMPIFNOTLE R17 R18 [+8]
  GETTABLEKS R17 R13 K26 ["MinSlope"]
  LOADN R18 0
  JUMPIFLE R18 R17 [+2]
  LOADB R16 0 +1
  LOADB R16 1
  FASTCALL2K ASSERT R16 K29 [+4]
  LOADK R17 K29 ["invalid minimum slope input!"]
  GETIMPORT R15 K17 [assert]
  CALL R15 2 0
  LOADB R16 0
  GETTABLEKS R17 R13 K27 ["MaxSlope"]
  LOADN R18 90
  JUMPIFNOTLE R17 R18 [+8]
  GETTABLEKS R17 R13 K27 ["MaxSlope"]
  LOADN R18 0
  JUMPIFLE R18 R17 [+2]
  LOADB R16 0 +1
  LOADB R16 1
  FASTCALL2K ASSERT R16 K30 [+4]
  LOADK R17 K30 ["invalid maximum slope input!"]
  GETIMPORT R15 K17 [assert]
  CALL R15 2 0
  NEWTABLE R15 0 2
  GETTABLEKS R18 R13 K26 ["MinSlope"]
  DIVK R17 R18 K32 [180]
  MULK R16 R17 K31 [3.14159265358979]
  GETTABLEKS R19 R13 K27 ["MaxSlope"]
  DIVK R18 R19 K32 [180]
  MULK R17 R18 K31 [3.14159265358979]
  SETLIST R15 R16 2 [1]
  SETTABLEKS R15 R14 K33 ["slopeRange"]
  GETTABLEKS R15 R13 K34 ["Material"]
  SETTABLEKS R15 R14 K35 ["value"]
  GETTABLEKS R15 R13 K36 ["Priority"]
  SETTABLEKS R15 R14 K37 ["priority"]
  FASTCALL2 TABLE_INSERT R8 R14 [+5]
  MOVE R16 R8
  MOVE R17 R14
  GETIMPORT R15 K39 [table.insert]
  CALL R15 2 0
  FORGLOOP R9 2 [inext] [-182]
  GETIMPORT R9 K41 [table.sort]
  MOVE R10 R8
  GETUPVAL R11 1
  CALL R9 2 0
  LOADN R11 1
  LOADN R9 0
  LOADN R10 1
  FORNPREP R9
  SUBK R13 R11 K43 [1]
  DIVK R12 R13 K42 [1023]
  LOADNIL R13
  JUMPIFNOT R1 [+9]
  GETUPVAL R14 2
  MOVE R15 R12
  MOVE R16 R8
  LOADK R17 K20 ["heightRange"]
  LOADN R18 0
  LOADB R19 0
  CALL R14 5 1
  MOVE R13 R14
  JUMP [+10]
  GETUPVAL R14 2
  SUB R17 R7 R6
  MUL R16 R12 R17
  ADD R15 R16 R6
  MOVE R16 R8
  LOADK R17 K20 ["heightRange"]
  LOADN R18 0
  LOADB R19 0
  CALL R14 5 1
  MOVE R13 R14
  LOADN R16 1
  LOADN R14 0
  LOADN R15 1
  FORNPREP R14
  JUMPIFNOT R13 [+3]
  LENGTH R17 R13
  JUMPIFNOTEQKN R17 K44 [0] [+5]
  MULK R18 R11 K45 [1024]
  ADD R17 R18 R16
  SETTABLE R4 R5 R17
  JUMP [+23]
  SUBK R19 R16 K43 [1]
  DIVK R18 R19 K42 [1023]
  MULK R17 R18 K46 [1.5707963267949]
  GETUPVAL R18 2
  MOVE R19 R17
  MOVE R20 R13
  LOADK R21 K33 ["slopeRange"]
  LOADN R22 0
  LOADB R23 0
  CALL R18 5 1
  JUMPIFNOT R18 [+8]
  LENGTH R20 R18
  LOADN R21 0
  JUMPIFNOTLT R21 R20 [+5]
  GETTABLEN R20 R18 1
  GETTABLEKS R19 R20 K35 ["value"]
  JUMP [+1]
  MOVE R19 R4
  MULK R21 R11 K45 [1024]
  ADD R20 R21 R16
  SETTABLE R19 R5 R20
  FORNLOOP R14
  FORNLOOP R9
  NEWTABLE R10 16 0
  GETUPVAL R11 3
  FASTCALL2 SETMETATABLE R10 R11 [+3]
  GETIMPORT R9 K48 [setmetatable]
  CALL R9 2 1
  SETTABLEKS R5 R9 K49 ["_lut"]
  SETTABLEKS R1 R9 K50 ["_isPercentage"]
  NEWTABLE R10 0 2
  LOADN R11 0
  LOADN R12 0
  SETLIST R10 R11 2 [1]
  SETTABLEKS R10 R9 K51 ["_resolution"]
  GETTABLEKS R10 R9 K50 ["_isPercentage"]
  JUMPIFNOT R10 [+5]
  GETTABLEKS R10 R9 K52 ["_getValuePercentage"]
  SETTABLEKS R10 R9 K53 ["GetValue"]
  JUMP [+4]
  GETTABLEKS R10 R9 K54 ["_getValueStud"]
  SETTABLEKS R10 R9 K53 ["GetValue"]
  GETTABLEKS R10 R9 K50 ["_isPercentage"]
  JUMPIFNOT R10 [+5]
  GETTABLEKS R10 R9 K55 ["_getValuePercentageSlopeIndex"]
  SETTABLEKS R10 R9 K56 ["GetValueByIndex"]
  JUMP [+4]
  GETTABLEKS R10 R9 K57 ["_getValueStudSlopeIndex"]
  SETTABLEKS R10 R9 K56 ["GetValueByIndex"]
  SETTABLEKS R7 R9 K58 ["_maxHeight"]
  SETTABLEKS R6 R9 K59 ["_minHeight"]
  SUB R10 R7 R6
  SETTABLEKS R10 R9 K60 ["_heightRange"]
  SETTABLEKS R4 R9 K61 ["fallbackMaterial"]
  SETTABLEKS R3 R9 K62 ["fillMaterial"]
  GETTABLEKS R10 R9 K63 ["_getSlopeIndex"]
  SETTABLEKS R10 R9 K64 ["GetSlopeIndex"]
  RETURN R9 1

PROTO_3:
  DIVK R6 R1 K2 [1.5707963267949]
  MULK R5 R6 K1 [1023]
  ADDK R4 R5 K0 [1]
  FASTCALL1 MATH_FLOOR R4 [+2]
  GETIMPORT R3 K5 [math.floor]
  CALL R3 1 1
  LOADN R4 1
  LOADN R5 0
  FASTCALL MATH_CLAMP [+2]
  GETIMPORT R2 K7 [math.clamp]
  CALL R2 3 1
  RETURN R2 1

PROTO_4:
  DIV R8 R1 R2
  MULK R7 R8 K1 [1023]
  ADDK R6 R7 K0 [1]
  FASTCALL1 MATH_FLOOR R6 [+2]
  GETIMPORT R5 K4 [math.floor]
  CALL R5 1 1
  LOADN R6 0
  LOADN R7 1
  FASTCALL MATH_CLAMP [+2]
  GETIMPORT R4 K6 [math.clamp]
  CALL R4 3 1
  DIVK R9 R3 K7 [1.5707963267949]
  MULK R8 R9 K1 [1023]
  ADDK R7 R8 K0 [1]
  FASTCALL1 MATH_FLOOR R7 [+2]
  GETIMPORT R6 K4 [math.floor]
  CALL R6 1 1
  LOADN R7 1
  LOADN R8 0
  FASTCALL MATH_CLAMP [+2]
  GETIMPORT R5 K6 [math.clamp]
  CALL R5 3 1
  GETTABLEKS R7 R0 K8 ["_lut"]
  MULK R9 R4 K9 [1024]
  ADD R8 R9 R5
  GETTABLE R6 R7 R8
  RETURN R6 1

PROTO_5:
  GETUPVAL R12 0
  GETTABLEKS R11 R12 K2 ["VoxelResolution"]
  MUL R10 R1 R11
  GETTABLEKS R11 R0 K3 ["_minHeight"]
  SUB R9 R10 R11
  GETTABLEKS R10 R0 K4 ["_heightRange"]
  DIV R8 R9 R10
  MULK R7 R8 K1 [1023]
  ADDK R6 R7 K0 [1]
  FASTCALL1 MATH_FLOOR R6 [+2]
  GETIMPORT R5 K7 [math.floor]
  CALL R5 1 1
  LOADN R6 0
  LOADN R7 1
  FASTCALL MATH_CLAMP [+2]
  GETIMPORT R4 K9 [math.clamp]
  CALL R4 3 1
  DIVK R9 R3 K10 [1.5707963267949]
  MULK R8 R9 K1 [1023]
  ADDK R7 R8 K0 [1]
  FASTCALL1 MATH_FLOOR R7 [+2]
  GETIMPORT R6 K7 [math.floor]
  CALL R6 1 1
  LOADN R7 1
  LOADN R8 0
  FASTCALL MATH_CLAMP [+2]
  GETIMPORT R5 K9 [math.clamp]
  CALL R5 3 1
  GETTABLEKS R7 R0 K11 ["_lut"]
  MULK R9 R4 K12 [1024]
  ADD R8 R9 R5
  GETTABLE R6 R7 R8
  RETURN R6 1

PROTO_6:
  DIV R8 R1 R2
  MULK R7 R8 K1 [1023]
  ADDK R6 R7 K0 [1]
  FASTCALL1 MATH_FLOOR R6 [+2]
  GETIMPORT R5 K4 [math.floor]
  CALL R5 1 1
  LOADN R6 0
  LOADN R7 1
  FASTCALL MATH_CLAMP [+2]
  GETIMPORT R4 K6 [math.clamp]
  CALL R4 3 1
  GETTABLEKS R6 R0 K7 ["_lut"]
  MULK R8 R4 K8 [1024]
  ADD R7 R8 R3
  GETTABLE R5 R6 R7
  RETURN R5 1

PROTO_7:
  GETUPVAL R12 0
  GETTABLEKS R11 R12 K2 ["VoxelResolution"]
  MUL R10 R1 R11
  GETTABLEKS R11 R0 K3 ["_minHeight"]
  SUB R9 R10 R11
  GETTABLEKS R10 R0 K4 ["_heightRange"]
  DIV R8 R9 R10
  MULK R7 R8 K1 [1023]
  ADDK R6 R7 K0 [1]
  FASTCALL1 MATH_FLOOR R6 [+2]
  GETIMPORT R5 K7 [math.floor]
  CALL R5 1 1
  LOADN R6 0
  LOADN R7 1
  FASTCALL MATH_CLAMP [+2]
  GETIMPORT R4 K9 [math.clamp]
  CALL R4 3 1
  GETTABLEKS R6 R0 K10 ["_lut"]
  MULK R8 R4 K11 [1024]
  ADD R7 R8 R3
  GETTABLE R5 R6 R7
  RETURN R5 1

MAIN:
  PREPVARARGS 0
  NEWTABLE R0 8 0
  SETTABLEKS R0 R0 K0 ["__index"]
  GETIMPORT R1 K2 [script]
  LOADK R3 K3 ["TerrainEditor"]
  NAMECALL R1 R1 K4 ["FindFirstAncestor"]
  CALL R1 2 1
  GETIMPORT R2 K6 [require]
  GETTABLEKS R4 R1 K7 ["Src"]
  GETTABLEKS R3 R4 K8 ["Types"]
  CALL R2 1 1
  GETIMPORT R3 K6 [require]
  GETTABLEKS R6 R1 K7 ["Src"]
  GETTABLEKS R5 R6 K9 ["Resources"]
  GETTABLEKS R4 R5 K10 ["Constants"]
  CALL R3 1 1
  DUPCLOSURE R4 K11 [PROTO_0]
  DUPCLOSURE R5 K12 [PROTO_1]
  DUPCLOSURE R6 K13 [PROTO_2]
  CAPTURE VAL R2
  CAPTURE VAL R5
  CAPTURE VAL R4
  CAPTURE VAL R0
  SETTABLEKS R6 R0 K14 ["new"]
  DUPCLOSURE R6 K15 [PROTO_3]
  SETTABLEKS R6 R0 K16 ["_getSlopeIndex"]
  DUPCLOSURE R6 K17 [PROTO_4]
  SETTABLEKS R6 R0 K18 ["_getValuePercentage"]
  DUPCLOSURE R6 K19 [PROTO_5]
  CAPTURE VAL R3
  SETTABLEKS R6 R0 K20 ["_getValueStud"]
  DUPCLOSURE R6 K21 [PROTO_6]
  SETTABLEKS R6 R0 K22 ["_getValuePercentageSlopeIndex"]
  DUPCLOSURE R6 K23 [PROTO_7]
  CAPTURE VAL R3
  SETTABLEKS R6 R0 K24 ["_getValueStudSlopeIndex"]
  RETURN R0 1
