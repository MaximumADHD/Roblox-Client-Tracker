PROTO_0:
  GETIMPORT R2 K2 [table.clone]
  MOVE R3 R0
  CALL R2 1 1
  MOVE R3 R0
  LOADNIL R4
  LOADNIL R5
  FORGPREP R3
  GETTABLEKS R8 R7 K3 ["pages"]
  LOADNIL R9
  LOADNIL R10
  FORGPREP R8
  MOVE R13 R12
  LOADNIL R14
  LOADNIL R15
  FORGPREP R13
  MOVE R18 R1
  MOVE R19 R17
  CALL R18 1 1
  JUMPIFNOT R18 [+15]
  GETIMPORT R18 K5 [table.remove]
  GETTABLE R21 R2 R6
  GETTABLEKS R20 R21 K3 ["pages"]
  GETTABLE R19 R20 R11
  MOVE R20 R16
  CALL R18 2 0
  GETTABLE R18 R2 R6
  GETTABLEKS R19 R18 K6 ["targetResults"]
  SUBK R19 R19 K7 [1]
  SETTABLEKS R19 R18 K6 ["targetResults"]
  RETURN R2 1
  FORGLOOP R13 2 [-20]
  FORGLOOP R8 2 [-26]
  FORGLOOP R3 2 [-33]
  RETURN R2 1

MAIN:
  PREPVARARGS 0
  GETIMPORT R0 K1 [script]
  LOADK R2 K2 ["StartPage"]
  NAMECALL R0 R0 K3 ["FindFirstAncestor"]
  CALL R0 2 1
  GETIMPORT R1 K5 [require]
  GETTABLEKS R3 R0 K6 ["Src"]
  GETTABLEKS R2 R3 K7 ["Types"]
  CALL R1 1 1
  DUPCLOSURE R2 K8 [PROTO_0]
  RETURN R2 1
